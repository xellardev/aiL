<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Xellor Demo</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    nav button { margin-right: 10px; padding: 5px 10px; cursor: pointer; }
    #content { margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px; }
  </style>
</head>
<body>
  <h1>Xellor Demo</h1>
  <nav>
    <button onclick="navigate('Home')">Home</button>
    <button onclick="navigate('Docs')">Docs</button>
    <button onclick="navigate('loader.v1')">Loader v1</button>
    <button onclick="navigate('loader.v2')">Loader v2</button>
  </nav>

  <div id="content">Загрузка...</div>

  <script>
    // Сопоставление URL -> файл
    const routes = {
      'Home': 'home.html',
      'Docs': 'docs.html',
      'loader.v1': 'loader-v1.html',
      'loader.v2': 'loader-v2.html'
    };

    function navigate(page) {
      // Меняем URL в браузере без перезагрузки
      window.history.pushState({}, '', page);
      loadContent(page);
    }

    function loadContent(page) {
      const file = routes[page] || 'home.html';
      fetch(file)
        .then(r => r.text())
        .then(html => {
          document.getElementById('content').innerHTML = html;
        })
        .catch(() => {
          document.getElementById('content').innerHTML = 'Страница не найдена';
        });
    }

    // Подгружаем контент при заходе на страницу или при навигации назад/вперед
    window.addEventListener('popstate', () => {
      const path = window.location.pathname.split('/').pop();
      loadContent(path || 'Home');
    });

    // Загружаем контент при первой загрузке
    const initial = window.location.pathname.split('/').pop() || 'Home';
    loadContent(initial);
  </script>
</body>
</html>
